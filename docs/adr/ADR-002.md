# ADR-002: Implementação do Sistema de Bookmarks via Meta de Usuário e AJAX

## Contexto

O tema implementa um sistema de bookmarks (favoritos) para posts, armazenando IDs de posts nos meta dados do usuário e manipulando via chamadas AJAX.

## Decisão

Utilizar meta de usuário (`user_bookmarks`) para armazenar os favoritos e AJAX para adicionar/remover bookmarks dinamicamente.

## Alternativas consideradas

- Armazenar bookmarks em cookies ou localStorage.
- Criar uma tabela customizada no banco.
- Usar plugins externos para bookmarks.

## Trade-offs

- **Prós:** Integração direta com WordPress, persistência por usuário autenticado, fácil manipulação via meta.
- **Contras:** Pode crescer o tamanho dos meta dados para usuários com muitos bookmarks, performance pode ser impactada.

## Consequências

- Necessidade de usuário autenticado para usar bookmarks.
- Requer validação de nonce para segurança.
- Funcionalidade depende do AJAX estar ativo e funcionando.

Arquivo base: `bookmark/functions.php`, JS em `assets/js/forcast-core.js`.